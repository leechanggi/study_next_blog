generator client {
  provider = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "postgresql"
  url      = env("NEXT_PUBLIC_DATABASE_URL")
}

model post {
  post_id   Int       @id @default(autoincrement())
  title     String
  description String
  content   String
  createdAt DateTime  @default(now())
  updatedAt DateTime? @updatedAt
  tags      String?
  imgSrc    String?
  skip      Boolean   @default(false)

  views     view[]
}

model view {
  view_id   Int      @id @default(autoincrement())
  post      post     @relation(fields: [post_id], references: [post_id])
  post_id   Int
  viewDate  DateTime @default(now())
  viewCount Int      @default(0)
  viewDuration Int   @default(0)

  @@unique([post_id, viewDate])
}